# [SignBell 프로젝트] 2025-10-13 회고록

---

## 📝 작업 개요

* **작업일**: 2025.10.13
* **회고 작성자**: 강관주
* **팀 작업**: 개발 마일스톤 설정 및 전체 기능 구현 방향성 논의 (3시간 회의)
* **개인 작업**: Entity 구조 보강, 퀴즈 방 생성 및 리스트 조회 API 구현

---

## 👥 팀 미팅 및 작업

### 1. 연휴 후 첫 전체 회의 (12:00 ~ 15:00, 3시간)

연휴 이후 처음으로 모든 팀원이 모여 약 3시간 동안 집중적인 회의를 진행했습니다. 오랜만에 얼굴을 보니 반가웠고, 연휴 동안 쉬었던 만큼 팀원들 모두 집중력이 올라가 있는 느낌이었습니다. 다시 시작하는 분위기 속에서 프로젝트의 방향성을 명확히 하고 본격적인 개발에 시동을 거는 시간이었습니다.

### 2. 프로젝트 개발 마일스톤 수립

**확정된 개발 마일스톤**:
* 1차 백엔드 개발 완료: ~10/20
* 1차 프론트엔드 개발: ~10/27
* 배포 완료: ~10/27 이후

**느낀점**: 일정이 빡빡하지만, 이 정도는 해내야 나중에 통합, 버그 픽스, 배포, 발표 준비에 충분한 시간을 쓸 수 있을 것이라 생각했습니다. 해내야겠다는 각오를 다졌습니다.

### 3. 12일에 준비한 자료 공유 및 기술적 논의

12일에 작성했던 API 명세서 예시와 세부사항 논의 문서를 고동현 님에게 공유하며 실시간 퀴즈 기능을 준비하는 데 필요한 기술적 논의를 진행했습니다.

**주요 논의 내용**:
* **WebSocket 기본 구조**: 제가 준비한 자료를 통해 WebSocket의 기본 동작 과정(구독, SEND, 브로드캐스트)을 팀원들과 공유했습니다. 웹소켓의 기본 구조나 과정이 잘 전달된 것 같아서 뿌듯했습니다.
* **퀴즈 랜덤 단어 처리 방식**: 퀴즈에 사용할 단어를 어떻게 WebSocket으로 전달할 것인지에 대해 논의했습니다. 제가 **ConcurrentHashMap을 이용해서 백엔드에 캐싱으로 저장하는 것**이 좋겠다고 제안했습니다.
  * **Redis를 사용하지 않는 이유**: 백엔드가 여러 서버를 사용하지 않기 때문에 Redis까지 도입할 필요는 없을 것 같다고 의견을 냈습니다. 팀원들도 기술 스택을 더 늘리는 것이 과하다는 의견에 동의했습니다.
* **기타 기술적 논의**:
  * Web RTC 테스트 방식 (테스트 파일명에 `_test` 접미사)
  * 개인 수어 학습 기능 상세 흐름 (모달 UI, 거울 모드, 카운트다운)
  * 데이터 수집 보상 체계 (프로필 테두리, 뱃지)

**느낀점**: 12일에 3시간 동안 준비한 자료가 팀에 도움이 되어서 뿌듯했습니다. 미리 준비했기 때문에 고동현 님과도 의견을 잘 맞출 수 있었고, 앞으로 실시간 퀴즈 기능을 구현하는 데 단단한 기반이 마련된 것 같습니다.

### 4. Entity 구조 리뷰 및 보강

회의에서 고동현 님과 함께 12일에 작성해놨던 세부사항 논의 문서를 공유하며 Entity 구조를 리뷰했습니다.

**주요 논의 및 추가 필드**:
* **`GameRoom`**: `currentRound` 필드 추가 제안 → 현재 진행 중인 라운드를 추적하여 대기실 재입장 시 몇 번째 라운드인지 명확히 파악
* **`GameParticipant`**: `currentRound` 필드 추가 → 각 참여자의 라운드 상태 동기화
* **`User`**: `totalScore` 필드 추가 → 사용자의 누적 점수를 매번 SUM 계산하지 않고 빠르게 조회

**느낀점**: 고동현 님과 함께 작업하고 고민하는 것이 즐거웠습니다. Entity 구조를 먼저 정리하고 나니 API 설계가 훨씬 명확해질 것 같았고, 두 개발자가 함께 비즈니스 로직의 싱크를 맞춰나가는 과정이 프로젝트에 큰 도움이 될 것이라 확신했습니다.

---

## 👨‍💻 개인 작업

### 1. 퀴즈 기능 API 설계 착수

회의에서 부여받은 액션 아이템에 따라 고동현 님과 함께 퀴즈 기능의 비즈니스 로직과 API 명세서 초안 작성을 시작했습니다.

**작업 분담**:
* 서로 작업할 영역을 명확히 나눴습니다.
* 저는 **REST API 쪽의 방 생성, 리스트 조회**부터 시작했습니다.

**느낀점**: 12일에 미리 준비를 해봤었기 때문에 무리 없이 해낼 수 있었습니다. API 명세서 예시를 만들어두었던 것이 큰 도움이 되었고, 개념을 이미 파악한 상태라 빠르게 구현에 착수할 수 있었습니다.

### 2. 퀴즈 방 생성 및 리스트 조회 API 구현

멀티플레이어 퀴즈 게임의 핵심 기능인 **퀴즈 방 생성 및 목록 조회 API**를 구현하고 PR을 작성했습니다.

#### 구현한 주요 기능:

**1. 퀴즈 방 생성 API (`POST /api/quiz/rooms`)**
* 사용자 유효성 검증
* 중복 참여 검증 (WAITING, IN_PROGRESS 상태 확인)
* GameRoom 생성 및 저장
* GameParticipant 자동 등록 (방장으로 설정)
* 입력값 검증 (@NotBlank, @Size(1-50))

**2. 퀴즈 방 리스트 조회 API (`GET /api/quiz/rooms`)**
* WAITING 상태의 방만 조회
* 무한 스크롤 지원 (Slice 방식)
* 페이징 파라미터 (page=0, size=10, 범위: 1-100)
* **N+1 문제 해결**: QueryDSL의 `fetch join`으로 host 정보 한 번에 조회
* 성능 최적화: 읽기 전용 트랜잭션 (@Transactional(readOnly = true))

**3. Repository 추가**
* `GameParticipantRepository`: 중복 참여 검증 메서드
* `GameRoomRepositoryCustom` 및 구현체: QueryDSL 커스텀 쿼리

**4. 예외 처리**
* 사용자 없음: `USER_NOT_FOUND` (404)
* 중복 참여: `PARTICIPANT_ALREADY_IN_ROOM` (409)
* 인증 실패: `UNAUTHORIZED`, `INVALID_TOKEN`, `EXPIRED_TOKEN` (401)
* 입력값 검증 실패: `VALIDATION_ERROR` (400)

**5. 문서화**
* 모든 클래스, 메서드에 Javadoc 주석 추가
* 비즈니스 로직 상세 설명

#### PR 작성 (#11)

**PR 제목**: `[Feat]: 퀴즈 방 생성 및 리스트 조회 API 구현 (#11)`

**주요 내용**:
* 변경 사항 상세 설명
* 테스트 방법 제시 (cURL 예시 포함)
* 리뷰어에게 특별히 검토가 필요한 부분 명시:
  * N+1 문제 해결 확인
  * 중복 참여 검증 로직
  * 무한 스크롤 로직
  * 쿠키 기반 인증
  * API 명세 일치 여부

**느낀점**: 첫 번째 핵심 기능 API를 완성하고 PR을 작성하니 뿌듯했습니다. 12일에 준비한 자료 덕분에 구조를 명확히 이해한 상태에서 코드를 작성할 수 있었고, 고동현 님과 Entity 구조를 미리 정리한 것이 큰 도움이 되었습니다.

---

## 🤔 느낀점

> 연휴 후 첫 회의는 프로젝트에 다시 시동을 거는 활기찬 시간이었습니다. 12일에 준비한 자료가 팀에 도움이 되어 뿌듯했고, 특히 WebSocket 기본 구조를 고동현 님과 공유하면서 실시간 퀴즈 기능 구현의 단단한 기반을 마련할 수 있었습니다.
>
> Entity 구조를 함께 리뷰하고 `currentRound`, `totalScore` 같은 필드를 추가하며 비즈니스 로직의 싱크를 맞춰나가는 과정이 즐거웠습니다. 데이터 구조를 먼저 정리하니 API 설계가 훨씬 명확해졌습니다.
>
> 개발 마일스톤이 빡빡하지만 해내야 통합, 버그 픽스, 배포에 충분한 시간을 쓸 수 있을 것이라 생각했습니다. 첫 번째 핵심 기능인 퀴즈 방 생성 및 리스트 조회 API를 완성하고 PR을 작성하니 뿌듯했습니다. 미리 준비한 덕분에 무리 없이 완성할 수 있었습니다.

---

## ✅ 다음 계획

* **퀴즈 방 입장/퇴장 API 구현**: 방 참여 및 나가기 기능
* **준비 상태 변경 API 구현**: 대기실에서 준비 완료 처리
* **WebSocket 연동 시작**: 실시간 통신 기능 구현 착수
* **고동현 님과 협업 지속**: 실시간 퀴즈 기능의 나머지 부분 분담 및 구현
* **10월 14일 회의**: 개인별 세부 개발 일정 확정